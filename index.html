<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%2316a34a'/%3E%3Cpath d='M30 40 Q30 70 50 70 Q70 70 70 40 L70 30 Q70 25 65 25 L35 25 Q30 25 30 30 Z' fill='%23451408'/%3E%3Crect x='28' y='22' width='44' height='10' rx='2' fill='%2378350f'/%3E%3Ccircle cx='45' cy='50' r='3' fill='%23fbbf24'/%3E%3Ccircle cx='55' cy='55' r='2' fill='%23fbbf24'/%3E%3Ccircle cx='50' cy='45' r='2.5' fill='%23fbbf24'/%3E%3C/svg%3E" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>عطارة البركة</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; }
        .cart-item-enter { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .notification { animation: fadeInOut 3s ease-in-out; }
        @keyframes fadeInOut { 0% { opacity: 0; transform: translateY(-20px); } 20% { opacity: 1; transform: translateY(0); } 80% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-20px); } }
        .slider-fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        /* Custom scrollbar for webkit browsers */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-stone-50 text-gray-800">
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'https://esm.sh/react@18.3.1';
        import ReactDOM from 'https://esm.sh/react-dom@18.3.1/client';

        // Notification Component
        const Notification = ({ message, isVisible }) => {
            if (!isVisible) return null;
            return (
                <div className="notification fixed top-24 left-1/2 transform -translate-x-1/2 bg-emerald-600 text-white px-6 py-3 rounded-lg shadow-lg z-50">
                    {message}
                </div>
            );
        };

        // Footer Component
        const Footer = ({ onNavigate }) => {
            return (
                <footer className="bg-emerald-900 text-white mt-16">
                    <div className="container mx-auto py-12 px-4 sm:px-6 lg:px-8">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div>
                                <div className="flex items-center space-x-reverse space-x-2 mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 70" className="h-8 w-auto" fill="none">
                                        <path d="M15 25 Q15 55 30 55 Q45 55 45 25 L45 18 Q45 13 40 13 L20 13 Q15 13 15 18 Z" fill="#fbbf24" stroke="#fbbf24" strokeWidth="1"/>
                                        <rect x="13" y="10" width="34" height="10" rx="2" fill="#f59e0b"/>
                                        <circle cx="25" cy="35" r="3" fill="#064e3b"/>
                                        <circle cx="35" cy="40" r="2" fill="#064e3b"/>
                                        <circle cx="30" cy="30" r="2.5" fill="#064e3b"/>
                                    </svg>
                                    <h3 className="text-xl font-bold">عطارة البركة</h3>
                                </div>
                                <p className="text-emerald-100 mb-4">نقدم لكم أجود أنواع البهارات والتوابل من مصادر موثوقة حول العالم.</p>
                                <div className="flex space-x-4 space-x-reverse">
                                    <a href="#" className="text-emerald-100 hover:text-white transition-colors"><svg xmlns="https://www2.0zz0.com/2025/10/28/16/472896508.jpg" className="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
                                    <a href="#" className="text-emerald-100 hover:text-white transition-colors"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a>
                                    <a href="#" className="text-emerald-100 hover:text-white transition-colors"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z"/></svg></a>
                                </div>
                            </div>
                            <div>
                                <h3 className="text-xl font-bold mb-4">روابط سريعة</h3>
                                <ul className="space-y-2">
                                    <li><button onClick={() => onNavigate('home')} className="text-emerald-100 hover:text-white transition-colors">الرئيسية</button></li>
                                    <li><button onClick={() => onNavigate('products')} className="text-emerald-100 hover:text-white transition-colors">منتجاتنا</button></li>
                                    <li><button onClick={() => onNavigate('about')} className="text-emerald-100 hover:text-white transition-colors">من نحن</button></li>
                                    <li><button onClick={() => onNavigate('contact')} className="text-emerald-100 hover:text-white transition-colors">تواصل معنا</button></li>
                                </ul>
                            </div>
                            <div>
                                <h3 className="text-xl font-bold mb-4">تواصل معنا</h3>
                                <ul className="space-y-2 text-emerald-100">
                                    <li className="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg> القاهرة، مصر</li>
                                    <li className="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg> +20 123 456 7890</li>
                                    <li className="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg> info@attaratbaraka.com</li>
                                </ul>
                            </div>
                        </div>
                        <div className="mt-8 pt-8 border-t border-emerald-800 text-center text-emerald-100">
                            <p>&copy; {new Date().getFullYear()} عطارة البركة. جميع الحقوق محفوظة.</p>
                        </div>
                    </div>
                </footer>
            );
        };

        // Mobile Navigation Menu
        const MobileMenu = ({ isOpen, onClose, onNavigate }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex">
                    <div className="fixed inset-0 bg-black opacity-50" onClick={onClose}></div>
                    <div className="relative bg-white w-64 h-full shadow-xl">
                        <div className="flex items-center justify-between p-4 border-b">
                            <span className="text-xl font-bold text-emerald-800">القائمة</span>
                            <button onClick={onClose} className="p-2 rounded-md text-gray-400 hover:text-gray-500">
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>
                            </button>
                        </div>
                        <nav className="p-4 space-y-2">
                            <button onClick={() => { onNavigate('home'); onClose(); }} className="block w-full text-right px-4 py-2 text-base font-medium text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 rounded-md">الرئيسية</button>
                            <button onClick={() => { onNavigate('products'); onClose(); }} className="block w-full text-right px-4 py-2 text-base font-medium text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 rounded-md">منتجاتنا</button>
                            <button onClick={() => { onNavigate('about'); onClose(); }} className="block w-full text-right px-4 py-2 text-base font-medium text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 rounded-md">من نحن</button>
                            <button onClick={() => { onNavigate('contact'); onClose(); }} className="block w-full text-right px-4 py-2 text-base font-medium text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 rounded-md">تواصل معنا</button>
                        </nav>
                    </div>
                </div>
            );
        };

        // Header Component
        const Header = ({ currentPage, onNavigate, cartCount, onCartClick, onSearchChange, searchQuery }) => {
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const linkClasses = (page) => `px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ${currentPage === page ? 'bg-emerald-100 text-emerald-700' : 'text-gray-600 hover:text-emerald-600 hover:bg-emerald-50'}`;
            return (
                <>
                    <header className="bg-white shadow-lg sticky top-0 z-40">
                        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex items-center justify-between h-16 lg:h-20">
                                <div className="flex-shrink-0">
                                    <button onClick={() => onNavigate('home')} className="flex items-center space-x-reverse space-x-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 70" className="h-8 w-auto lg:h-10" fill="none">
                                            <path d="M15 25 Q15 55 30 55 Q45 55 45 25 L45 18 Q45 13 40 13 L20 13 Q15 13 15 18 Z" fill="#16a34a" stroke="#16a34a" strokeWidth="1"/>
                                            <rect x="13" y="10" width="34" height="10" rx="2" fill="#15803d"/>
                                            <circle cx="25" cy="35" r="3" fill="#fbbf24"/>
                                            <circle cx="35" cy="40" r="2" fill="#fbbf24"/>
                                            <circle cx="30" cy="30" r="2.5" fill="#fbbf24"/>
                                        </svg>
                                        <span className="text-xl lg:text-3xl font-bold tracking-wider text-emerald-800">عطارة البركة</span>
                                    </button>
                                </div>
                                {/* Desktop Navigation */}
                                <nav className="hidden md:flex items-center space-x-4 space-x-reverse">
                                    <button onClick={() => onNavigate('home')} className={linkClasses('home')}>الرئيسية</button>
                                    <button onClick={() => onNavigate('products')} className={linkClasses('products')}>منتجاتنا</button>
                                    <button onClick={() => onNavigate('about')} className={linkClasses('about')}>من نحن</button>
                                    <button onClick={() => onNavigate('contact')} className={linkClasses('contact')}>تواصل معنا</button>
                                </nav>
                                <div className="flex items-center space-x-2 sm:space-x-4 space-x-reverse">
                                    <div className="relative hidden sm:block">
                                        <input type="text" placeholder="ابحث عن منتج..." value={searchQuery} onChange={onSearchChange} className="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 w-48 lg:w-64" />
                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                                    </div>
                                    <button onClick={onCartClick} className="p-2 rounded-full text-gray-600 hover:bg-emerald-50 hover:text-emerald-600 relative">
                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                                        {cartCount > 0 && <span className="absolute -top-1 -right-1 bg-emerald-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">{cartCount}</span>}
                                    </button>
                                    {/* Mobile menu button */}
                                    <button onClick={() => setIsMobileMenuOpen(true)} className="md:hidden p-2 rounded-md text-gray-600 hover:bg-emerald-50 hover:text-emerald-600">
                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" /></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>
                    <MobileMenu isOpen={isMobileMenuOpen} onClose={() => setIsMobileMenuOpen(false)} onNavigate={onNavigate} />
                </>
            );
        };

        // ========== PAGE COMPONENTS ==========

        const HomePage = () => {
            const [currentSlide, setCurrentSlide] = useState(0);
            const slides = [
                { id: 1, image: 'https://www2.0zz0.com/2025/10/28/16/472896508.jpg', title: 'توابل طبيعية 100%', subtitle: 'من أفضل المزارع حول العالم مباشرة إلى مائدتك', cta: 'تسوق الآن' },
                { id: 2, image: 'https://picsum.photos/seed/herbs2/1920/600', title: 'الأعشاب العطرية', subtitle: 'انعم برائحة ونكهة الأعشاب الطازجة في كل وجبة', cta: 'اكتشف المزيد' },
                { id: 3, image: 'https://picsum.photos/seed/offer3/1920/600', title: 'عروض حصرية', subtitle: 'خصم يصل إلى 30% على تشكيلتنا المميزة', cta: 'شاهد العروض' },
            ];
            useEffect(() => { const timer = setInterval(() => setCurrentSlide((prev) => (prev + 1) % slides.length), 5000); return () => clearInterval(timer); }, [slides.length]);
            const goToSlide = (index) => setCurrentSlide(index);
            const nextSlide = () => setCurrentSlide((prev) => (prev + 1) % slides.length);
            const prevSlide = () => setCurrentSlide((prev) => (prev - 1 + slides.length) % slides.length);
            const features = [
                { icon: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z', title: 'منتجات أصلية', description: 'نضمن لك أصالة وجودة جميع منتجاتنا' },
                { icon: 'M13 10V3L4 14h7v7l9-11h-7z', title: 'شحن سريع', description: 'نوصل طلباتك إلى باب المنزل في أسرع وقت' },
                { icon: 'M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z', title: 'دعم عملاء', description: 'فريق متخصص جاهز للإجابة على استفساراتك' },
            ];
            return (
                <>
                    <div className="relative w-full h-[60vh] md:h-[80vh] overflow-hidden">
                        {slides.map((slide, index) => (
                            <div key={slide.id} className={`absolute inset-0 transition-opacity duration-1000 ${index === currentSlide ? 'opacity-100' : 'opacity-0'}`}>
                                <img src={slide.image} alt={slide.title} className="w-full h-full object-cover" />
                                <div className="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center px-4">
                                    <div className="text-center text-white slider-fade-in">
                                        <h1 className="text-2xl md:text-4xl lg:text-5xl font-bold mb-4">{slide.title}</h1>
                                        <p className="text-base md:text-lg lg:text-xl mb-6 md:mb-8">{slide.subtitle}</p>
                                        <button className="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-6 md:py-3 md:px-8 rounded-lg text-sm md:text-lg">{slide.cta}</button>
                                    </div>
                                </div>
                            </div>
                        ))}
                        <button onClick={prevSlide} className="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /></svg></button>
                        <button onClick={nextSlide} className="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg></button>
                        <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 space-x-reverse">{slides.map((_, index) => (<button key={index} onClick={() => goToSlide(index)} className={`w-3 h-3 rounded-full ${index === currentSlide ? 'bg-white' : 'bg-white/50'}`}></button>))}</div>
                    </div>
                    <div className="bg-emerald-50 py-12 md:py-16">
                        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                                {features.map((feature, index) => (
                                    <div key={index} className="text-center">
                                        <div className="flex justify-center items-center w-16 h-16 bg-emerald-100 rounded-full mx-auto mb-4">
                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d={feature.icon} /></svg>
                                        </div>
                                        <h3 className="text-xl font-bold text-gray-800 mb-2">{feature.title}</h3>
                                        <p className="text-gray-600">{feature.description}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </>
            );
        };

        const AboutPage = () => {
            return (
                <section className="py-12 md:py-16 bg-white">
                    <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="max-w-4xl mx-auto">
                            <h2 className="text-3xl md:text-4xl font-extrabold text-emerald-800 mb-6 text-center">من نحن</h2>
                            <div className="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
                                <div>
                                    <p className="text-base md:text-lg text-gray-600 leading-relaxed mb-6">
                                        في "عطارة البركة"، نؤمن بأن جودة الطعام تبدأ من جودة مكوناته. منذ أكثر من 20 عامًا، ونحن نسعى جاهدين لتقديم أجود أنواع البهارات والتوابل من أصحاب المزارع والمصادر الموثوقة حول العالم.
                                    </p>
                                    <p className="text-base md:text-lg text-gray-600 leading-relaxed mb-6">
                                        رحلتنا بدأت من شغفنا بالتقاليد العريقة والنكهات الأصيلة، واليوم نفتخر بأن نكون جزءًا من مطابخ آلاف العائلات التي تثق بمنتجاتنا.
                                    </p>
                                    <h3 className="text-xl md:text-2xl font-bold text-emerald-700 mb-3">رؤيتنا</h3>
                                    <p className="text-base md:text-lg text-gray-600 leading-relaxed">
                                        أن نكون الوجهة الأولى لكل من يبحث عن الجودة والأصالة في عالم التوابل، وأن نضيف لمسة من البركة والنكهة المميزة إلى كل وجبة.
                                    </p>
                                </div>
                                <img src="https://picsum.photos/seed/aboutus/600/400" alt="من نحن" className="rounded-lg shadow-xl w-full h-auto" />
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const ContactPage = () => {
            return (
                <section className="py-12 md:py-16 bg-white">
                    <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                        <h2 className="text-3xl md:text-4xl font-extrabold text-emerald-800 mb-8 md:mb-12 text-center">تواصل معنا</h2>
                        <div className="grid md:grid-cols-2 gap-8 md:gap-12">
                            <div>
                                <h3 className="text-2xl font-bold text-gray-800 mb-6">أرسل لنا رسالة</h3>
                                <form className="space-y-6">
                                    <div><label className="block text-sm font-medium text-gray-700 mb-2">الاسم</label><input type="text" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500" /></div>
                                    <div><label className="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني</label><input type="email" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500" /></div>
                                    <div><label className="block text-sm font-medium text-gray-700 mb-2">الرسالة</label><textarea rows="4" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500"></textarea></div>
                                    <button type="submit" className="w-full bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-emerald-700 transition-colors duration-300">إرسال</button>
                                </form>
                            </div>
                            <div>
                                <h3 className="text-2xl font-bold text-gray-800 mb-6">معلومات التواصل</h3>
                                <div className="space-y-4">
                                    <p className="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 ml-3 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg> القاهرة، مصر - شارع الملك فهد</p>
                                    <p className="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 ml-3 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg> +20 123 456 7890</p>
                                    <p className="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 ml-3 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg> info@attaratbaraka.com</p>
                                </div>
                                <div className="mt-8">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3453.603834459617!2d31.235!3d30.0444!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145840b7e4b1b1b1%3A0x8b8b8b8b8b8b8b8b!2sCairo%2C%20Egypt!5e0!3m2!1sen!2seg!4v1234567890" width="100%" height="250" style={{border:0}} allowFullScreen="" loading="lazy" className="rounded-lg shadow-lg w-full"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };
        
        const ProductCard = ({ product, onClick, onAddToCart }) => {
            return (
                <div className="bg-white rounded-xl shadow-md overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-2xl hover:-translate-y-2" onClick={() => onClick(product)}>
                    <div className="relative overflow-hidden">
                        <img src={product.image} alt={product.name} className="w-full h-48 md:h-56 object-cover group-hover:scale-110 transition-transform duration-500" />
                        <div className="absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-3 py-1 m-3 rounded-full">خصم {Math.round(((product.originalPrice - product.discountedPrice) / product.originalPrice) * 100)}%</div>
                    </div>
                    <div className="p-4 md:p-6 flex flex-col">
                        <h3 className="text-lg md:text-xl font-bold text-gray-800 mb-2">{product.name}</h3>
                        <p className="text-gray-600 mb-4 flex-grow text-sm md:text-base">{product.description}</p>
                        <div className="flex items-center justify-between mb-4">
                            <div className="flex items-baseline space-x-2 space-x-reverse">
                                <p className="text-xl md:text-2xl font-extrabold text-emerald-600">{product.discountedPrice.toFixed(2)} ج.م</p>
                                <p className="text-sm text-gray-400 line-through">{product.originalPrice.toFixed(2)} ج.م</p>
                            </div>
                             <span className="text-xs md:text-sm font-medium text-gray-500 bg-gray-100 px-3 py-1 rounded-full">{product.weight}</span>
                        </div>
                        <button onClick={(e) => { e.stopPropagation(); onAddToCart(product); }} className="w-full bg-emerald-600 text-white font-bold py-2 md:py-3 px-4 rounded-lg hover:bg-emerald-700 transition-all duration-300">أضف للسلة</button>
                    </div>
                </div>
            );
        };
        const ProductModal = ({ product, onClose, onAddToCart }) => {
            useEffect(() => { const handleEsc = (event) => { if (event.key === 'Escape') onClose(); }; window.addEventListener('keydown', handleEsc); return () => window.removeEventListener('keydown', handleEsc); }, [onClose]);
            if (!product) return null;
            return (
                <div className="fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4" onClick={onClose}>
                    <div className="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col md:flex-row overflow-hidden" onClick={(e) => e.stopPropagation()}>
                        <div className="relative md:w-1/2">
                            <img src={product.image.replace('/400/400', '/800/800')} alt={product.name} className="w-full h-64 md:h-full object-cover" />
                            <button onClick={onClose} className="absolute top-4 left-4 bg-white/70 text-gray-800 rounded-full p-2 hover:bg-white"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg></button>
                        </div>
                        <div className="md:w-1/2 p-4 md:p-6 lg:p-8 flex flex-col overflow-y-auto">
                            <h2 className="text-2xl lg:text-3xl font-extrabold text-emerald-800 mb-4">{product.name}</h2>
                            <p className="text-gray-600 mb-6 leading-relaxed text-sm md:text-base">{product.longDescription}</p>
                            <div className="mt-auto pt-6 border-t border-gray-200">
                                <div className="flex items-center justify-between mb-6">
                                     <div className="flex items-baseline space-x-3 space-x-reverse">
                                        <p className="text-2xl lg:text-3xl font-extrabold text-emerald-600">{product.discountedPrice.toFixed(2)} ج.م</p>
                                        <p className="text-lg text-gray-400 line-through">{product.originalPrice.toFixed(2)} ج.م</p>
                                    </div>
                                    <span className="text-sm font-medium text-gray-600 bg-gray-100 px-3 py-1.5 rounded-md">{product.weight}</span>
                                </div>
                                <button onClick={() => onAddToCart(product)} className="w-full bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-emerald-700 transition-colors duration-300 flex items-center justify-center space-x-2 space-x-reverse">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                                    <span>أضف للسلة</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        const CartSidebar = ({ isOpen, onClose, cartItems, onRemoveItem, onUpdateQuantity, getTotalPrice }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 overflow-hidden">
                    <div className="absolute inset-0 overflow-hidden">
                        <div className="absolute inset-0 bg-black bg-opacity-50 transition-opacity" onClick={onClose}></div>
                        <section className="absolute inset-y-0 left-0 max-w-full flex">
                            <div className="relative w-screen max-w-md">
                                <div className="h-full flex flex-col bg-white shadow-xl overflow-y-auto">
                                    <div className="flex items-center justify-between p-6 border-b"><h2 className="text-xl font-bold text-gray-800">سلة التسوق</h2><button onClick={onClose} className="p-2 rounded-md text-gray-400 hover:text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg></button></div>
                                    <div className="flex-1 p-6 overflow-y-auto">
                                        {cartItems.length === 0 ? (<div className="text-center py-12"><p className="text-gray-500">سلة التسوق فارغة</p></div>) : (
                                            <div className="space-y-4">
                                                {cartItems.map((item) => (
                                                    <div key={item.id} className="flex items-center space-x-4 space-x-reverse border-b pb-4 cart-item-enter">
                                                        <img src={item.image} alt={item.name} className="w-16 h-16 object-cover rounded" />
                                                        <div className="flex-1">
                                                            <h3 className="font-medium text-gray-800">{item.name}</h3>
                                                            <p className="text-sm text-gray-500">{item.weight}</p>
                                                            <div className="flex items-center mt-2">
                                                                <button onClick={() => onUpdateQuantity(item.id, item.quantity - 1)} className="p-1 rounded-md text-gray-400 hover:text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" /></svg></button>
                                                                <span className="mx-2 text-gray-800">{item.quantity}</span>
                                                                <button onClick={() => onUpdateQuantity(item.id, item.quantity + 1)} className="p-1 rounded-md text-gray-400 hover:text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" /></svg></button>
                                                            </div>
                                                        </div>
                                                        <div className="text-left">
                                                            <p className="font-medium text-emerald-600">{(item.discountedPrice * item.quantity).toFixed(2)} ج.م</p>
                                                            <button onClick={() => onRemoveItem(item.id)} className="text-xs text-red-500 hover:text-red-700">إزالة</button>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                    {cartItems.length > 0 && (
                                        <div className="border-t p-6">
                                            <div className="flex justify-between mb-4"><span className="text-lg font-medium text-gray-800">المجموع:</span><span className="text-lg font-bold text-emerald-600">{getTotalPrice().toFixed(2)} ج.م</span></div>
                                            <button className="w-full bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-emerald-700 transition-colors duration-300">إتمام الطلب</button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            );
        };
        const CategoryFilter = ({ categories, activeCategory, onCategoryChange }) => {
            return (
                <div className="flex flex-wrap justify-center gap-2">
                    <button onClick={() => onCategoryChange('all')} className={`px-4 py-2 rounded-full transition-all duration-300 ${activeCategory === 'all' ? 'bg-emerald-600 text-white shadow-lg' : 'bg-white text-gray-600 hover:bg-emerald-50'}`}>الكل</button>
                    {categories.map(category => (<button key={category} onClick={() => onCategoryChange(category)} className={`px-4 py-2 rounded-full transition-all duration-300 ${activeCategory === category ? 'bg-emerald-600 text-white shadow-lg' : 'bg-white text-gray-600 hover:bg-emerald-50'}`}>{category}</button>))}
                </div>
            );
        };
        const ProductsPage = ({ searchQuery, onSearchChange, onAddToCart, onProductClick }) => {
            const [activeCategory, setActiveCategory] = useState('all');
            const mockProducts = [
                { id: 1, name: 'كمون بلدي', description: 'حبوب كمون بلدية طازجة، مثالية للأطباق الشرقية.', longDescription: 'كمون بلدي أصيل يتميز برائحته النفاذة وطعمه القوي.', image: 'https://picsum.photos/seed/cumin/400/400', originalPrice: 25.00, discountedPrice: 20.00, weight: '250 جرام', category: 'بهارات' },
                { id: 2, name: 'فلفل أسود خشن', description: 'فلفل أسود مجروش عالي الجودة.', longDescription: 'أفضل أنواع الفلفل الأسود المجروش الذي يضيف لمسة من الحرارة.', image: 'https://picsum.photos/seed/pepper/400/400', originalPrice: 30.00, discountedPrice: 24.50, weight: '200 جرام', category: 'بهارات' },
                { id: 3, name: 'زعتر فلسطيني فاخر', description: 'خلطة زعتر فلسطينية تقليدية بالسمسم والسماق.', longDescription: 'خلطة الزعتر الفلسطيني الفاخرة التي تأخذك في رحلة إلى التراث الأصيل.', image: 'https://picsum.photos/seed/zaatar/400/400', originalPrice: 40.00, discountedPrice: 35.00, weight: '500 جرام', category: 'أعشاب' },
                { id: 4, name: 'كركم مطحون', description: 'مسحوق كركم نقي للطبخ والفوائد الصحية.', longDescription: 'مسحوق الكركم الذهبي، المعروف بـ "بهار الحياة".', image: 'https://picsum.photos/seed/turmeric/400/400', originalPrice: 22.00, discountedPrice: 18.00, weight: '250 جرام', category: 'بهارات' },
                { id: 5, name: 'كزبرة جافة', description: 'حبوب كزبرة كاملة مجففة بعناية.', longDescription: 'حبوب الكزبرة الكاملة التي تطلق رائحة حمضية وزهرية عند طحنها.', image: 'https://picsum.photos/seed/coriander/400/400', originalPrice: 18.00, discountedPrice: 15.00, weight: '200 جرام', category: 'بهارات' },
                { id: 6, name: 'أعواد قرفة سيلانية', description: 'قرفة سيلانية أصلية بنكهة حلوة ورقيقة.', longDescription: 'أعواد القرفة السيلانية الفاخرة، تتميز بطبقاتها الرقيقة.', image: 'https://picsum.photos/seed/cinnamon/400/400', originalPrice: 50.00, discountedPrice: 42.00, weight: '100 جرام', category: 'بهارات' },
                {id: 7, name: 'حبة البركة (الحبة السوداء)', description: 'بذور حبة البركة النقية.', longDescription: 'بذور حبة البركة، المعروفة أيضًا بالحبة السوداء، ذات قيمة غذائية عالية.', image: 'https://picsum.photos/seed/nigella/400/400', originalPrice: 35.00, discountedPrice: 29.00, weight: '250 جرام', category: 'بذور' },
                { id: 8, name: 'ورق غار (لورا)', description: 'أوراق غار مجففة عالية الجودة.', longDescription: 'أوراق الغار المجففة بعناية للحفاظ على رائحتها العطرية المميزة.', image: 'https://picsum.photos/seed/bayleaf/400/400', originalPrice: 15.00, discountedPrice: 12.50, weight: '50 جرام', category: 'أعشاب' },
            ];
            const categories = [...new Set(mockProducts.map(product => product.category))];
            const filteredProducts = mockProducts.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) || product.description.toLowerCase().includes(searchQuery.toLowerCase());
                const matchesCategory = activeCategory === 'all' || product.category === activeCategory;
                return matchesSearch && matchesCategory;
            });
            return (
                <main className="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
                    <div className="text-center mb-8 md:mb-10">
                        <h1 className="text-2xl md:text-3xl lg:text-4xl font-extrabold mb-4 text-emerald-800">منتجاتنا المميزة</h1>
                        <p className="text-gray-600 max-w-2xl mx-auto text-sm md:text-base">اكتشف تشكيلتنا الواسعة من أجود أنواع العطارة والبهارات التي تم انتقاؤها بعناية.</p>
                    </div>
                    <div className="sticky top-16 lg:top-20 z-30 bg-stone-50 py-4 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 mb-8 shadow-sm">
                        <CategoryFilter categories={categories} activeCategory={activeCategory} onCategoryChange={setActiveCategory} />
                    </div>
                    {filteredProducts.length === 0 ? (<div className="text-center py-12"><p className="text-gray-500 text-lg">لم يتم العثور على منتجات تطابق بحثك</p></div>) : (
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8">
                            {filteredProducts.map((product) => (<ProductCard key={product.id} product={product} onClick={onProductClick} onAddToCart={onAddToCart} />))}
                        </div>
                    )}
                </main>
            );
        };

        // ========== MAIN APP COMPONENT ==========
        const App = () => {
            const [currentPage, setCurrentPage] = useState('home');
            const [selectedProduct, setSelectedProduct] = useState(null);
            const [cartItems, setCartItems] = useState([]);
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [searchQuery, setSearchQuery] = useState('');
            const [notification, setNotification] = useState({ message: '', isVisible: false });

            const handleNavigate = (page) => setCurrentPage(page);
            const handleProductClick = (product) => setSelectedProduct(product);
            const handleCloseModal = () => setSelectedProduct(null);
            const handleAddToCart = (product) => {
                const existingItem = cartItems.find(item => item.id === product.id);
                if (existingItem) { setCartItems(cartItems.map(item => item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item)); }
                else { setCartItems([...cartItems, { ...product, quantity: 1 }]); }
                showNotification(`تمت إضافة ${product.name} إلى سلة التسوق`);
            };
            const handleRemoveFromCart = (productId) => setCartItems(cartItems.filter(item => item.id !== productId));
            const handleUpdateQuantity = (productId, newQuantity) => { if (newQuantity <= 0) handleRemoveFromCart(productId); else setCartItems(cartItems.map(item => item.id === productId ? { ...item, quantity: newQuantity } : item)); };
            const getTotalPrice = () => cartItems.reduce((total, item) => total + (item.discountedPrice * item.quantity), 0);
            const showNotification = (message) => { setNotification({ message, isVisible: true }); setTimeout(() => setNotification({ message: '', isVisible: false }), 3000); };
            
            const renderPage = () => {
                switch (currentPage) {
                    case 'home': return <HomePage />;
                    case 'products': return <ProductsPage searchQuery={searchQuery} onSearchChange={(e) => setSearchQuery(e.target.value)} onAddToCart={handleAddToCart} onProductClick={handleProductClick} />;
                    case 'about': return <AboutPage />;
                    case 'contact': return <ContactPage />;
                    default: return <HomePage />;
                }
            };

            return (
                <div className="min-h-screen flex flex-col bg-stone-50">
                    <Header currentPage={currentPage} onNavigate={handleNavigate} cartCount={cartItems.reduce((count, item) => count + item.quantity, 0)} onCartClick={() => setIsCartOpen(true)} onSearchChange={(e) => setSearchQuery(e.target.value)} searchQuery={searchQuery} />
                    {renderPage()}
                    <ProductModal product={selectedProduct} onClose={handleCloseModal} onAddToCart={handleAddToCart} />
                    <CartSidebar isOpen={isCartOpen} onClose={() => setIsCartOpen(false)} cartItems={cartItems} onRemoveItem={handleRemoveFromCart} onUpdateQuantity={handleUpdateQuantity} getTotalPrice={getTotalPrice} />
                    <Notification message={notification.message} isVisible={notification.isVisible} />
                    <Footer onNavigate={handleNavigate} />
                </div>
            );
        };

        const rootElement = document.getElementById('root');
        if (!rootElement) throw new Error("Could not find root element to mount to");
        const root = ReactDOM.createRoot(rootElement);
        root.render(<React.StrictMode><App /></React.StrictMode>);
    </script>
</body>

</html>

